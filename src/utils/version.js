import{player}from"../player.js";import{setupVue}from"../setup.js";import{notify}from"./notify.js";export const ver={phase:"alpha",rc:0,dev:0,release:0,layers:0,content:0,patch:0};function getVer(e){return"string"==typeof e?(e=e.split("."),{release:Number(e[0])||0,layers:Number(e[1])||0,content:Number(e[2])||0}):e}function gtVer(e,r){return e=getVer(e),r=getVer(r),e.release>r.release||e.release===r.release&&(e.layers>r.layers||e.layers===r.layers&&e.content>r.content)}function verName(e){let r=["v","β"];return"beta"===e.phase&&(r=["β","α"]),"alpha"===e.phase&&(r=["α","δ"]),"delta"===e.phase&&(r=["δ","build"]),r[0]+e.release+"."+e.layers+(e.content?"."+e.content:"")+(e.patch?"-p"+e.patch:"")+(e.rc?"-rc"+e.rc:"")+(e.dev?"-"+r[1]+e.dev:"")}export function updateVer(e){gtVer(ver,player.ver)&&(notify("The game has been successfuly updated to "+verName(ver)+"!"),delete player.won),player.ver=ver}function verColoring(e){switch(e.phase){default:return"";case"beta":return"#00f";case"alpha":return"#f00";case"delta":return"#0f0"}}setupVue.version={template:'\n    <div\n      id="version"\n      :style="{ color: verColoring(ver) }"\n    >\n      {{verName(ver)}}\n    </div>\n  ',setup:()=>({ver:ver,verName:verName,verColoring:verColoring})};
