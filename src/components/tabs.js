import{app}from"../index.js";import{player}from"../player.js";import{save,exportSave,importSave,downloadSave,hardReset}from"../utils/saveload.js";export const TABS={Layers:{subtabs:["Quarry","Menu"]},Menu:{component:{template:"<div>Note: Hovering over some numbers allows you to see their formulas.</div>"},subtabs:["Options","Stats","Story","Achievements","About"]},Options:{component:{template:'\n        <div>\n          <h2>Save</h2>\n          <button @click="save(true)">Manual save</button>\n          <button @click="">Load (not implemented yet)</button>\n          <button @click="exportSave()">Export</button>\n          <button @click="downloadSave()">Download</button>\n          <button @click="importSave()">Import</button>\n          <button @click="$refs.importFile.click()">\n            Import File</button\n          ><input\n            type="file"\n            style="display: none"\n            ref="importFile"\n            accept=".txt,.tli2"\n          />\n          <button id="hardreset" @click="hardReset()">HARD RESET</button>\n          <br />\n          <button\n            id="offline"\n            @click="player.options.off = !player.options.off"\n          >\n            Offline Progression: {{player.options.off ? "ON" : "OFF" }}</button\n          ><br />\n\n          <h2>Misc</h2>\n          <button @click="player.options.news=!player.options.news">\n            News ticker: {{player.options.news ? "ON" : "OFF"}}\n          </button>\n          <button @click="player.options.icons=!player.options.icons">\n            Icons: {{player.options.icons ? "Auto" : "Dirt"}}\n          </button>\n\n          <h2>Discord</h2>\n          <a href="https://discord.gg/fcEXYjPQ43" target="_blank"><button>Discord</button></a>\n        </div>\n      ',setup:()=>({save:save,importSave:importSave,exportSave:exportSave,downloadSave:downloadSave,hardReset:hardReset,player:player})}},About:{component:{template:'\n      <div>\n        <h1>The Longest Incremental<sup>2</sup></h1>\n        The official sequel to \n        <a href="https://unsoftcapped3.github.io/the-longest-incremental/">\n          The Longest Incremental\n        </a>\n\n        <h2>Credits</h2>\n        Hosted by meta.\n\n        <h2>Changelog</h2>\n        <h3>α0.1</h3>\n        <list class="changelog">\n          <li class="add">[+] Added Collapse.</li>\n          <li class="add">[+] Added Hyper Achievements.</li>\n        </list>\n        <h3>α0.0</h3>\n        Released.\n      </div>\n      '}}};export function initTabs(){const t={};for(const[n,e]of Object.entries(TABS)){if(void 0===e.disp&&(e.disp=n),void 0===e.unl&&(e.unl=()=>!0),e.parent){const t=TABS[e.parent]?.subtabs??[];t.push(n),TABS[e.parent].subtabs=t}e.component&&(t["Tab"+n]=e.component)}app.component("tab",{data:()=>({tabClicked:void 0}),props:["tab"],template:'\n      <component class="tab" :is="\'Tab\'+tab" />\n      <br/>\n      <div class=\'tab_navigator\' \n      v-if="tabs.subtabs !== undefined && tabs.subtabs.length > 1" :role="tab.toLowerCase()">\n        <span v-for="subtab of tabs.subtabs" :key="subtab">\n          <button v-if="TABS[subtab].unl()"\n            :key="subtab"\n            :role="subtab.toLowerCase()"\n            @click="tabClicked = subtab"\n          >\n            {{TABS[subtab]?.disp ?? subtab}}\n          </button>\n        </span>\n      </div>\n      <br>\n      <tab v-if="tabs.subtabs !== undefined" :tab="tabClicked" />\n    ',watch:{tab:{immediate:!0,handler(t){this.tabClicked=TABS?.[this.tab]?.subtabs?.[0]}}},computed:{tabs(){return TABS[this.tab]??{}}},setup:()=>({TABS:TABS}),components:t})}export function resetTabs(){}
